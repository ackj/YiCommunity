<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/topLayout"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <!-- SIP账号注册状态栏 -->


    <android.support.v4.widget.DrawerLayout
        android:id="@+id/side_menu"
        android:layout_width="match_parent"
        android:layout_height="match_parent">
        <!-- 抽屉导航主体部分布局，正常显示于屏幕上的内容，这里是通话UI界面 -->
        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_below="@+id/status">
            <!-- 定义一个Fragment容器，用于装载不同的Fragment组件 ，
                如VideoFragment或AudioFragment-->
            <LinearLayout
                android:id="@+id/fragmentContainer"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="horizontal" />

            <FrameLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_above="@+id/menu">

                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">

                    <RelativeLayout
                        android:id="@+id/active_call"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:visibility="visible">
                        <!-- 当前活动的CALL视图，显示呼叫者的姓名和通话时间 -->
                        <LinearLayout
                            android:id="@+id/active_call_info"
                            android:layout_width="match_parent"
                            android:layout_height="80dp"
                            android:layout_centerHorizontal="true"
                            android:alpha="0.8"
                            android:background="@color/white"
                            android:orientation="vertical">
                            <!-- 显示联系人的名字 -->
                            <TextView
                                android:id="@+id/current_contact_name"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_alignParentTop="true"
                                android:layout_gravity="center"
                                android:paddingTop="5dp"
                                android:textColor="@color/white"
                                android:textSize="28sp" />
                            <!-- 显示通话时间 -->
                            <Chronometer
                                android:id="@+id/current_call_timer"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_below="@id/current_contact_name"
                                android:layout_gravity="center"
                                android:textColor="@color/base_color"
                                android:textSize="18sp" />
                        </LinearLayout>


                        <!-- 视频通话时，前置和后置摄像头切换按钮 -->
                        <ImageView
                            android:id="@+id/switchCamera"
                            android:layout_width="80dp"
                            android:layout_height="80dp"
                            android:layout_alignParentLeft="true"
                            android:layout_below="@+id/active_call_info"
                            android:contentDescription="切换摄像头"
                            android:padding="10dp"
                            android:src="@drawable/selector_switch_camera"
                            android:visibility="visible" />
                    </RelativeLayout>
                    <!-- 呼叫列表，linphone支持同时多个呼入，当有多个呼入时，这个列表用于显示所有的呼入
                    只有一个呼入时，不显示列表 -->
                    <LinearLayout
                        android:id="@+id/calls_list"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_alignParentBottom="true"
                        android:layout_gravity="bottom"
                        android:background="@color/white"
                        android:orientation="vertical" />

                </RelativeLayout>
            </FrameLayout>

            <!-- 底部的工具栏视图定义 -->
            <LinearLayout
                android:id="@+id/menu"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentBottom="true"
                android:orientation="vertical">
                <!-- 第一层通话功能选项按钮菜单视图布局，如视频、扬声器、MIC及呼叫转移等功能 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="60dp"
                    android:background="@color/base_grey"
                    android:orientation="horizontal">

                    <RelativeLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/selector_call_color">
                        <!-- 视频通话按钮图标 -->
                        <ImageView
                            android:id="@+id/video"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:background="@drawable/selector_call_color"
                            android:padding="22dp"
                            android:src="@drawable/ic_camera_default" />
                        <!-- 切换视频通话，需要一段时间，这个是等待ProgressBar -->
                        <ProgressBar
                            android:id="@+id/video_in_progress"
                            style="?android:attr/progressBarStyle"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_centerHorizontal="true"
                            android:layout_centerVertical="true"
                            android:visibility="gone" />

                    </RelativeLayout>
                    <!-- MIC按钮图标 -->
                    <ImageView
                        android:id="@+id/micro"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/selector_call_color"
                        android:padding="15dp"
                        android:src="@drawable/ic_micro_default" />

                    <ImageView
                        android:id="@+id/unlock"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:layout_weight="1"
                        android:background="@drawable/selector_call_color"
                        android:padding="18dp"
                        android:src="@drawable/ic_keycase" />
                    <!-- Audio route按钮图标 ，这个好像是和蓝牙耳机相关的图标-->
                    <ImageView
                        android:id="@+id/audio_route"
                        android:layout_width="match_parent"
                        android:layout_height="match_parent"
                        android:layout_weight="1"
                        android:background="@drawable/selector_call_color"
                        android:padding="20dp"
                        android:src="@drawable/ic_routes_default"
                        android:visibility="gone" />
                    <!-- 通话其他选项按钮图标 -->
                    <ImageView
                        android:id="@+id/options"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@drawable/selector_call_color"
                        android:padding="18dp"
                        android:src="@drawable/ic_options_default"
                        android:visibility="gone" />
                </LinearLayout>

                <!-- 第二次工具栏视图布局，包括键盘、挂断、SIP文本消息图标按钮 -->
                <LinearLayout
                    android:id="@+id/main_bar"
                    android:layout_width="match_parent"
                    android:layout_height="60dp"
                    android:layout_alignParentBottom="true"
                    android:layout_gravity="center"
                    android:orientation="horizontal">

                    <ImageView
                        android:id="@+id/dialer"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@color/black_38_percent_alpha"
                        android:padding="18dp"
                        android:src="@drawable/ic_dialer"
                        android:visibility="gone" />

                    <ImageView
                        android:id="@+id/hang_up"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_gravity="center"
                        android:layout_weight="0.5"
                        android:background="@drawable/selector_hangup_color"
                        android:padding="15dp"
                        android:src="@drawable/ic_call_hangup" />

                    <ImageView
                        android:id="@+id/accept_call"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="0.5"
                        android:background="@drawable/selector_accept_call_color"
                        android:padding="15dp"
                        android:src="@drawable/ic_call_audio_start" />

                    <ImageView
                        android:id="@+id/chat"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:background="@color/black_38_percent_alpha"
                        android:padding="18dp"
                        android:src="@drawable/ic_chat"
                        android:visibility="gone" />
                </LinearLayout>

            </LinearLayout>

            <!-- 一组隐藏的状态提示及功能按钮图标，只有进入相关的功能才会显示，比如切换到蓝牙耳机
            add Call功能项 -->


        </RelativeLayout>


    </android.support.v4.widget.DrawerLayout>

</RelativeLayout>